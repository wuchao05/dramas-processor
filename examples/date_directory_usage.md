# 日期目录组织功能使用示例

## 功能说明

当使用 `--date` 参数时，系统会在输出目录的**上一层**创建一个以日期命名的导出目录，并将所有短剧输出组织到这个目录中。

## 使用场景

### 场景 1: 按日期批量导出

```bash
# 为9月3日的内容创建专门的导出目录
drama-processor process /path/to/dramas --date "9.3" --count 2
```

**目录结构**：

```
/path/to/
├── dramas/           # 源短剧目录
├── 导出素材/         # 默认导出目录（未使用时）
└── 9.3导出/          # 新创建的日期目录
    ├── 短剧1/
    │   ├── 9.3-短剧1-xh-01.mp4
    │   └── 9.3-短剧1-xh-02.mp4
    ├── 短剧2/
    │   ├── 9.3-短剧2-xh-01.mp4
    │   └── 9.3-短剧2-xh-02.mp4
    └── ...
```

### 场景 2: 多日期内容管理

```bash
# 9月3日的内容
drama-processor process /path/to/dramas --date "9.3" --count 2

# 9月4日的内容
drama-processor process /path/to/dramas --date "9.4" --count 2
```

**目录结构**：

```
/path/to/
├── dramas/           # 源短剧目录
├── 9.3导出/          # 9月3日内容
│   ├── 短剧1/
│   └── 短剧2/
├── 9.4导出/          # 9月4日内容
│   ├── 短剧1/
│   └── 短剧2/
└── 导出素材/         # 默认导出目录
```

## 配置文件使用

在 `configs/default.yaml` 中设置：

```yaml
# 设置日期字符串
date_str: "9.3" # 会创建 "9.3导出" 目录

# 输出目录设置
output_dir: "../导出素材" # 实际会使用其上一层的日期目录
```

## 与现有功能的兼容性

1. **继续处理**：在同一日期目录下，仍然支持继续处理未完成的短剧
2. **目录编号**：如果短剧目录已存在，会自动创建编号目录（如 `短剧1-001`）
3. **文件命名**：文件名中的日期前缀与目录组织保持一致

## 注意事项

1. 日期目录会在**输出目录的上一层**创建，不是在输出目录内部
2. 如果不指定 `--date`，则使用默认的输出目录结构
3. 日期字符串可以是任意格式，建议使用 "M.D" 格式（如 "9.3", "10.15"）

# æ—¥æœŸå»é‡åŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹

## å¿«é€Ÿå¼€å§‹

### åœºæ™¯ï¼šæ¯æ—¥è‡ªåŠ¨åŒ–å‰ªè¾‘å·¥ä½œæµ

å‡è®¾æ‚¨æ¯å¤©éœ€è¦ä»é£ä¹¦æ‹‰å–å½“å¤©çš„å‰§é›†è¿›è¡Œå‰ªè¾‘ï¼Œä½¿ç”¨æ—¥æœŸå»é‡åŠŸèƒ½å¯ä»¥é¿å…é‡å¤å¤„ç†ã€‚

## ä½¿ç”¨æ­¥éª¤

### 1. ç¬¬ä¸€æ¬¡å¤„ç†æŸä¸ªæ—¥æœŸï¼ˆä¾‹å¦‚ 9.12ï¼‰

```bash
# å¯ç”¨æ—¥æœŸå»é‡åŠŸèƒ½å¤„ç†9.12å·çš„å‰§é›†
drama-processor feishu run --date 9.12 --skip-processed --ai-scene-detection

# é¢„æœŸè¾“å‡ºï¼š
# ğŸ“… æ—¥æœŸè¿‡æ»¤: 9.12 -> 2025-09-12
# ğŸ“Š å»é‡ç»“æœ: 10 éƒ¨å‰§é›†å‡ä¸ºæ–°å‰§é›†
# =====================================
# ğŸ“‹ ä»é£ä¹¦è·å–åˆ° 10 éƒ¨å¾…å¤„ç†å‰§ç›®
# =====================================
# 1. å‰§é›†A
# 2. å‰§é›†B
# ...
# 10. å‰§é›†J
#
# ç¡®è®¤è¦è‡ªåŠ¨å‰ªè¾‘è¿™ 10 éƒ¨å‰§å—ï¼Ÿï¼ˆçŠ¶æ€å°†è‡ªåŠ¨æ›´æ–°ï¼‰ [y/N]: y
#
# ğŸ¬ å¼€å§‹è‡ªåŠ¨å‰ªè¾‘ä»é£ä¹¦è·å–çš„å‰§ç›®...
# ğŸ¤– å¯ç”¨AIæ™ºèƒ½åœºæ™¯å¤„ç†...
# ... å¤„ç†è¿‡ç¨‹ ...
# ğŸ’¾ å·²æ›´æ–°å‰§é›†å¤„ç†è®°å½•
# ğŸ¯ è‡ªåŠ¨å‰ªè¾‘å®Œæˆï¼š80/100 æ¡ç´ æç”ŸæˆæˆåŠŸ
```

### 2. ç¬¬äºŒæ¬¡è¿è¡Œç›¸åŒæ—¥æœŸï¼ˆéƒ¨åˆ†å‰§é›†å·²å¤„ç†ï¼‰

```bash
# å†æ¬¡è¿è¡Œç›¸åŒå‘½ä»¤
drama-processor feishu run --date 9.12 --skip-processed --ai-scene-detection

# é¢„æœŸè¾“å‡ºï¼š
# ğŸ“… æ—¥æœŸè¿‡æ»¤: 9.12 -> 2025-09-12
# ğŸ“ æ—¥æœŸå»é‡ç»“æœ:
#   - è·³è¿‡å·²å¤„ç†å‰§é›†: 8 éƒ¨
#     â­ï¸  å‰§é›†A
#     â­ï¸  å‰§é›†B
#     â­ï¸  å‰§é›†C
#     â­ï¸  å‰§é›†D
#     â­ï¸  å‰§é›†E
#     â­ï¸  å‰§é›†F
#     â­ï¸  å‰§é›†G
#     â­ï¸  å‰§é›†H
#   - å¾…å¤„ç†å‰§é›†: 2 éƒ¨
# =====================================
# ğŸ“‹ ä»é£ä¹¦è·å–åˆ° 2 éƒ¨å¾…å¤„ç†å‰§ç›®
# =====================================
# 1. å‰§é›†I
# 2. å‰§é›†J
#
# ç¡®è®¤è¦è‡ªåŠ¨å‰ªè¾‘è¿™ 2 éƒ¨å‰§å—ï¼Ÿï¼ˆçŠ¶æ€å°†è‡ªåŠ¨æ›´æ–°ï¼‰ [y/N]: y
```

### 3. æŸ¥çœ‹å¤„ç†è®°å½•

```bash
# åˆ—å‡ºæ‰€æœ‰æ—¥æœŸçš„å¤„ç†è®°å½•
drama-processor feishu dedup --action list

# è¾“å‡ºï¼š
# ================================================================================
# ğŸ“… æ—¥æœŸå»é‡è®°å½•åˆ—è¡¨
# ================================================================================
# ğŸ“… æ—¥æœŸ: 9.10
#    å·²å¤„ç†å‰§é›†: 12 éƒ¨
#    æœ€åæ›´æ–°: 2025-09-10T16:45:22.123456
#    --------------------------------------------------
# ğŸ“… æ—¥æœŸ: 9.11
#    å·²å¤„ç†å‰§é›†: 15 éƒ¨
#    æœ€åæ›´æ–°: 2025-09-11T18:30:15.654321
#    --------------------------------------------------
# ğŸ“… æ—¥æœŸ: 9.12
#    å·²å¤„ç†å‰§é›†: 10 éƒ¨
#    æœ€åæ›´æ–°: 2025-09-12T14:20:30.987654
#    --------------------------------------------------
#
# ğŸ“Š æ€»è®¡: 3 ä¸ªæ—¥æœŸæœ‰å¤„ç†è®°å½•
```

### 4. æŸ¥çœ‹ç‰¹å®šæ—¥æœŸçš„è¯¦ç»†ä¿¡æ¯

```bash
# æŸ¥çœ‹9.12å·çš„è¯¦ç»†å¤„ç†è®°å½•
drama-processor feishu dedup --action summary --date 9.12

# è¾“å‡ºï¼š
# ============================================================
# ğŸ“… æ—¥æœŸ 9.12 çš„å¤„ç†æ‘˜è¦
# ============================================================
# å·²å¤„ç†å‰§é›†æ•°é‡: 10
# æœ€åæ›´æ–°æ—¶é—´: 2025-09-12T14:20:30.987654
#
# ğŸ“‹ å·²å¤„ç†å‰§é›†åˆ—è¡¨:
#   1. å‰§é›†A
#   2. å‰§é›†B
#   3. å‰§é›†C
#   4. å‰§é›†D
#   5. å‰§é›†E
#   6. å‰§é›†F
#   7. å‰§é›†G
#   8. å‰§é›†H
#   9. å‰§é›†I
#  10. å‰§é›†J
```

### 5. å¼ºåˆ¶é‡æ–°å¤„ç†ï¼ˆå¿½ç•¥å†å²è®°å½•ï¼‰

```bash
# å¦‚æœéœ€è¦é‡æ–°å¤„ç†æŸäº›å‰§é›†
drama-processor feishu run --date 9.12 --force-reprocess --ai-scene-detection

# è¾“å‡ºï¼š
# ğŸ”„ å¼ºåˆ¶é‡æ–°å¤„ç†æ¨¡å¼å·²å¯ç”¨ï¼Œå°†å¿½ç•¥å†å²è®°å½•
# ğŸ“… æ—¥æœŸè¿‡æ»¤: 9.12 -> 2025-09-12
# =====================================
# ğŸ“‹ ä»é£ä¹¦è·å–åˆ° 10 éƒ¨å¾…å¤„ç†å‰§ç›®
# =====================================
# 1. å‰§é›†A
# 2. å‰§é›†B
# ...
# 10. å‰§é›†J
# ï¼ˆæ‰€æœ‰å‰§é›†éƒ½ä¼šè¢«é‡æ–°å¤„ç†ï¼‰
```

### 6. æ¸…ç†è¿‡æœŸè®°å½•

```bash
# å¦‚æœæŸä¸ªæ—¥æœŸçš„è®°å½•ä¸å†éœ€è¦ï¼Œå¯ä»¥æ¸…é™¤
drama-processor feishu dedup --action clear --date 9.10

# è¾“å‡ºï¼š
# âš ï¸ å°†è¦æ¸…é™¤æ—¥æœŸ 9.10 çš„å¤„ç†è®°å½•ï¼ŒåŒ…å« 12 ä¸ªå‰§é›†
# ç¡®è®¤è¦æ¸…é™¤è¿™äº›è®°å½•å—ï¼Ÿ [y/N]: y
# âœ… å·²æˆåŠŸæ¸…é™¤æ—¥æœŸ 9.10 çš„å¤„ç†è®°å½•
```

## å®é™…å·¥ä½œæµç¨‹ç¤ºä¾‹

### æ¯æ—¥è‡ªåŠ¨åŒ–è„šæœ¬

åˆ›å»ºä¸€ä¸ª shell è„šæœ¬ `daily_drama_processing.sh`ï¼š

```bash
#!/bin/bash

# æ—¥æœŸå‚æ•°ï¼ˆå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä¼ å…¥ï¼Œé»˜è®¤ä¸ºä»Šå¤©ï¼‰
DATE=${1:-$(date +"%m.%d")}

echo "ğŸ¬ å¼€å§‹å¤„ç†æ—¥æœŸï¼š$DATE"

# ä½¿ç”¨æ—¥æœŸå»é‡åŠŸèƒ½ï¼Œå¯ç”¨AIåœºæ™¯æ£€æµ‹
drama-processor feishu run \
  --date "$DATE" \
  --skip-processed \
  --ai-scene-detection \
  --enable-deduplication \
  --count 10 \
  --min-sec 480 \
  --max-sec 900

echo "âœ… æ—¥æœŸ $DATE å¤„ç†å®Œæˆ"

# æ˜¾ç¤ºå¤„ç†åçš„è®°å½•
echo "ğŸ“Š å¤„ç†è®°å½•æ‘˜è¦ï¼š"
drama-processor feishu dedup --action summary --date "$DATE"
```

ä½¿ç”¨æ–¹æ³•ï¼š

```bash
# å¤„ç†ä»Šå¤©çš„å‰§é›†
./daily_drama_processing.sh

# å¤„ç†æŒ‡å®šæ—¥æœŸçš„å‰§é›†
./daily_drama_processing.sh 9.13

# å¤„ç†æ˜¨å¤©çš„å‰§é›†
./daily_drama_processing.sh 9.11
```

### æ‰¹é‡è¡¥å……å¤„ç†

å¦‚æœå‘ç°æŸäº›æ—¥æœŸçš„å‰§é›†å¤„ç†ä¸å®Œæ•´ï¼š

```bash
# æ£€æŸ¥éœ€è¦è¡¥å……çš„æ—¥æœŸ
for date in 9.10 9.11 9.12; do
  echo "æ£€æŸ¥æ—¥æœŸ $date:"
  drama-processor feishu dedup --action summary --date "$date"
  echo "---"
done

# è¡¥å……å¤„ç†ä¸å®Œæ•´çš„æ—¥æœŸ
drama-processor feishu run --date 9.11 --skip-processed --ai-scene-detection
```

## æ³¨æ„äº‹é¡¹

### 1. å‘½ä»¤ç»„åˆå»ºè®®

âœ… **æ¨èç»„åˆ**ï¼š

```bash
# æ—¥å¸¸å¤„ç†ï¼šAI + å»é‡
drama-processor feishu run --date 9.12 --skip-processed --ai-scene-detection

# è¡¥å……å¤„ç†ï¼šå»é‡ + å‰ªè¾‘ç‚¹å»é‡
drama-processor feishu run --date 9.12 --skip-processed --enable-deduplication

# å®Œæ•´å¤„ç†ï¼šAI + åŒé‡å»é‡
drama-processor feishu run --date 9.12 --skip-processed --ai-scene-detection --enable-deduplication
```

âŒ **é¿å…çš„ç»„åˆ**ï¼š

```bash
# ä¸è¦åŒæ—¶ä½¿ç”¨äº’æ–¥å‚æ•°
drama-processor feishu run --date 9.12 --skip-processed --force-reprocess  # åè€…ä¼šè¦†ç›–å‰è€…
```

### 2. é”™è¯¯å¤„ç†

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

```bash
# 1. æŸ¥çœ‹å½“å‰è®°å½•çŠ¶æ€
drama-processor feishu dedup --action list

# 2. æ£€æŸ¥å…·ä½“æ—¥æœŸçš„è®°å½•
drama-processor feishu dedup --action summary --date 9.12

# 3. å¦‚æœ‰å¿…è¦ï¼Œæ¸…é™¤æœ‰é—®é¢˜çš„è®°å½•
drama-processor feishu dedup --action clear --date 9.12

# 4. é‡æ–°å¼€å§‹å¤„ç†
drama-processor feishu run --date 9.12 --skip-processed
```

## æ•ˆæœæ¼”ç¤º

### å¤„ç†æ•ˆç‡å¯¹æ¯”

**æœªä½¿ç”¨å»é‡åŠŸèƒ½**ï¼š

- æ¯æ¬¡è¿è¡Œéƒ½å¤„ç†æ‰€æœ‰å‰§é›†
- é‡å¤ç”Ÿæˆç›¸åŒçš„ç´ æ
- æµªè´¹æ—¶é—´å’Œè®¡ç®—èµ„æº

**ä½¿ç”¨å»é‡åŠŸèƒ½**ï¼š

- é¦–æ¬¡è¿è¡Œï¼šå¤„ç† 10 ä¸ªå‰§é›†ï¼Œè€—æ—¶ 30 åˆ†é’Ÿ
- ç¬¬äºŒæ¬¡è¿è¡Œï¼šè·³è¿‡ 8 ä¸ªå·²å¤„ç†å‰§é›†ï¼Œåªå¤„ç† 2 ä¸ªæ–°å‰§é›†ï¼Œè€—æ—¶ 6 åˆ†é’Ÿ
- èŠ‚çœæ—¶é—´ï¼š80%çš„æ—¶é—´èŠ‚çœ

### çŠ¶æ€ç®¡ç†çš„å¥½å¤„

1. **æ¸…æ™°çš„å¤„ç†çŠ¶æ€**ï¼šéšæ—¶çŸ¥é“å“ªäº›å‰§é›†å·²ç»å¤„ç†
2. **çµæ´»çš„æ¢å¤æœºåˆ¶**ï¼šå¤„ç†ä¸­æ–­åå¯ä»¥ä»æ–­ç‚¹ç»§ç»­
3. **é¿å…é‡å¤å·¥ä½œ**ï¼šç¡®ä¿æ¯ä¸ªå‰§é›†åªå¤„ç†ä¸€æ¬¡ï¼ˆé™¤éæ˜ç¡®è¦æ±‚é‡æ–°å¤„ç†ï¼‰
4. **å›¢é˜Ÿåä½œå‹å¥½**ï¼šå¤šäººå¯ä»¥åä½œå¤„ç†ä¸åŒæ—¥æœŸçš„å‰§é›†

è¿™ä¸ªæ—¥æœŸå»é‡åŠŸèƒ½æå¤§åœ°æé«˜äº†é£ä¹¦æ‰¹é‡å¤„ç†çš„æ•ˆç‡å’Œå¯é æ€§ï¼



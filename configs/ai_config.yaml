# AI功能配置文件

# 全局AI设置
ai_enabled: true # 总开关，设置为true启用AI功能

# 场景检测设置
scene_detection:
  enabled: true # 是否启用智能场景检测
  model_path: null # 自定义模型路径，null使用默认
  scene_threshold: 30.0 # 场景变化阈值 (0-100)
  min_scene_duration: 2.0 # 最小场景时长（秒）
  sample_rate: 1.0 # 采样率（每秒帧数）
  # 暂时移除质量评估功能
  # quality_threshold: 0.6 # 场景质量阈值 (0-1)

# 内容合规检测设置
compliance_check:
  enabled: true # 是否启用内容合规检测
  strict_mode: false # 严格模式：不合规内容直接拒绝

  # 检测阈值
  thresholds:
    violence: 0.7 # 暴力内容阈值 (0-1)
    adult_content: 0.8 # 成人内容阈值 (0-1)
    sensitive_text: 0.6 # 敏感文字阈值 (0-1)

  # 检测开关（简化版本）
  checks:
    visual_content: true # 视觉内容检测（保留）
    audio_content: false # 音频内容检测（暂时禁用）
    text_content: false # 文字内容检测（暂时禁用）

  # 采样设置
  sample_interval: 5.0 # 视觉检测采样间隔（秒）
  # audio_sample_interval: 10.0 # 音频检测采样间隔（秒）
  # text_sample_interval: 10.0 # 文字检测采样间隔（秒）

# 模型管理
models:
  cache_dir: "~/.drama_processor/models" # 模型缓存目录
  auto_download: true # 自动下载缺失的模型

  # 预定义模型配置
  scene_classifier:
    enabled: true
    url: "https://github.com/opencv/opencv_zoo/raw/main/models/image_classification_mobilenet/image_classification_mobilenetv1_224x224.onnx"
    filename: "mobilenet_scene_classifier.onnx"

  content_safety:
    enabled: true
    url: "placeholder_url" # 实际使用时需要替换
    filename: "content_safety_model.bin"

# 性能设置
performance:
  max_concurrent_analysis: 2 # 最大并发分析数
  gpu_acceleration: false # GPU加速（需要CUDA支持）
  memory_limit_mb: 2048 # 内存限制（MB）

# 日志设置
logging:
  ai_log_level: "INFO" # AI模块日志级别
  save_analysis_logs: true # 保存分析日志
  log_dir: "logs/ai" # AI日志目录

# 输出设置
output:
  save_compliance_reports: true # 保存合规检测报告
  save_scene_analysis: true # 保存场景分析结果
  save_ai_metadata: true # 保存AI处理元数据

  # 报告格式
  report_format: "json" # json, yaml, txt
  include_timestamps: true
  include_confidence_scores: true

# 实验性功能（谨慎启用）
experimental:
  advanced_scene_detection: false # 高级场景检测
  real_time_compliance: false # 实时合规检测
  ai_title_generation: false # AI标题生成
  smart_thumbnail_selection: false # 智能缩略图选择
